<div class="container-fluid border-bottom border-top">
    <div class="row mt-2 p-2">
        <div class="table_header_headding d-flex justify-content-between">
            <div class="col-6">
                <ul class="d-flex justify-content-between align-items-center p-0">
                    <li><a> <i-feather name="plus" class="me-2"></i-feather>Add new item</a></li>
                    <li><a><i-feather name="briefcase" class="me-2"></i-feather> Add to Maketing List</a></li>
                    <li><a> <i-feather name="share-2" class="me-2"></i-feather>Share</a></li>
                    <li><a><i-feather name="log-in" class="me-2"></i-feather> Import</a></li>
                </ul>

            </div>
            <div class="col-4 d-flex justify-content-end align-items-center">
                <div class="input_box bg-light d-flex justify-content-between align-items-center">
                    <input type="text" class="form-control rounded" placeholder="search here..."
                        [(ngModel)]="searchText" (input)="onSearchOrg()" />
                    <span class="ms-2"><i-feather name="search" class="me-2"></i-feather>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>





<ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav nav-tabs">
    <li class="nav-item" [ngbNavItem]="0">
        <button ngbNavLink>Organization</button>
    </li>
    @for(item of navs;track item.id){
    <ng-container [ngbNavItem]="item?.id">
        <li [ngbNavItem]="item?.id">
            <button ngbNavLink>
                {{item.organizationName}}
                <span class="btn-close ms-3 fw-light" (click)="close($event, item)"></span>
            </button>

        </li>
        <ng-template ngbNavContent>
            <app-organization-details [mydata]="sendData">

            </app-organization-details>
        </ng-template>
    </ng-container>
    }

</ul>

<div [ngbNavOutlet]="nav" class="mt-2">


</div>

@if (active == '') {
<div class="container-fluid mt-3 p-0 nav-item">
    <div class="row d-flex g-0">
        <div class="sidebar_section col-2 p-2 rounded">
            <div class="bg-light p-3" style="height: 73vh;">
                <ul class="g-0 p-0">
                    <h2>List</h2>
                    <div class="d-flex flex-column gap-3">
                        <li class="pointer_tab mb-2" (click)="fetchData('All')"
                            [ngClass]="{ active_link: selected == 'All' }">
                            <a>
                                <div class="text_filed d-flex m-0">
                                    <i-feather name="users" class="me-2"></i-feather>
                                    <p class="m-0">All Organization</p>
                                </div>
                                <!-- <p>{{ allContacts.length }} Contacts</p> -->
                            </a>
                        </li>
                    </div>
                    @for (item of organizaionsData ; track $index) {
                    <div class="d-flex flex-column gap-3">
                        <li class="pointer_tab" (click)="fetchData(item.organizationName)"
                            [ngClass]="{ active_link: item.organizationName == selected }">
                            <a>
                                <div class="text_filed d-flex m-0">
                                    <i-feather name="users" class="me-2"></i-feather>
                                    <a class="m-0 text_decoration">{{ item.organizationName }}</a>
                                </div>
                                <!-- <p>{{ getContactCount(item.organizationName) }} Contacts</p> -->
                            </a>
                        </li>
                    </div>
                    }

                </ul>
            </div>

        </div>
        <div class="table_and_form col-10 p-2">


            <ag-grid-angular style="width: 100%;height:550px;" [columnDefs]="colDefs" [rowData]="rowData"
                [pagination]="true" [paginationAutoPageSize]="10" [paginationPageSizeSelector]="[5,10,20]"
                [gridOptions]="gridOptions" [rowSelection]="'multiple'">
            </ag-grid-angular>



        </div>
    </div>
</div>
}